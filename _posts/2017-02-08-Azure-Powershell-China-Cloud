---
layout: post
title:  "Working on Azure Powershell for China regions"
date:   2017-02-08 20:00:00 -0800
categories:    Tools
tags:    Azure, Powershell
---

1 -- Login china azure

```
Login-AzureRmAccount -EnvironmentName azurechinacloud
```

2 -- Get resource provider api version

2.1 commit changes and create remote branch

```
git add .
git commit -m "change message"
git push origin <branch name>
```

4) switch to master

```
git checkout master
git pull origin master
```

5) merge branch to master

```
git merge <branch name>
```

6) resolve conflict if any
make correction

```
git add .
git commit -m "resolve message"
git push origin master
```

7) delete local branch

```
git branch -d <branch name>
```

8) delete remote branch

```
git push origin --delete <branch name>
```

2 -- modify committed changes (not pushed)

2.1 modify commit message only

```
git commit --amend -m "new message"
```

2.2 modify commit 

add new file

```
git commit --amend
```
(new file will be merged to current commit)

2.3 move commit from branch1 to branch2

1) copy commit

```
git checkout branch2
git cherry-pick <commit hash>
```

2) remove commit from branch1

```
git checkout branch1
git reset --hard <previous commit hash>
```
(can choose --soft which only remove the commit metadata, or no argument which pull all code from staging area)

```
git clean
```
(if there are untracked code)

2.4 uncommit a change (pushed or not)

1) make sure there is no local change

2) revert 

```
git revert <commit hash>
git push origin <branch name>
```
